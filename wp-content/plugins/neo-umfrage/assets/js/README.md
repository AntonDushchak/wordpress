# Neo Umfrage - Структура JavaScript файлов

## Обзор архитектуры

Код разделен на модули для лучшей организации и поддержки:

### 1. neo-umfrage-dashboard.js
**Основной координатор** - управляет инициализацией и координирует работу всех модулей.

**Ответственность:**
- Инициализация приложения
- Привязка глобальных событий
- Координация между модулями
- Общие утилиты (showMessage, closeModal)
- Проверка прав доступа (canEdit, canDelete)

### 2. neo-umfrage-modals.js
**Модальные окна и формы** - управляет созданием и обработкой модальных окон.

**Ответственность:**
- Создание модальных окон (добавление анкет/шаблонов)
- Обработка отправки форм
- Сбор данных форм
- Управление полями шаблонов (добавление/удаление/изменение типа)
- Загрузка и отображение полей шаблонов
- Рендеринг полей анкет

### 3. neo-umfrage-surveys.js
**Работа с анкетами** - управляет всеми операциями с анкетами.

**Ответственность:**
- Загрузка списка анкет
- Отображение списка анкет с фильтрами
- Удаление анкет
- Редактирование анкет
- Просмотр анкет (создание модального окна просмотра)
- Загрузка данных анкеты для редактирования
- Заполнение формы данными анкеты

### 4. neo-umfrage-templates.js
**Работа с шаблонами** - управляет всеми операциями с шаблонами.

**Ответственность:**
- Загрузка списка шаблонов
- Загрузка шаблонов для фильтров
- Загрузка шаблонов для селектов
- Загрузка полей шаблона для редактирования
- Рендеринг полей шаблона для редактирования
- Отображение списка шаблонов
- Удаление шаблонов

### 5. neo-umfrage-statistics.js
**Статистика** - управляет отображением статистики.

**Ответственность:**
- Загрузка общей статистики
- Отображение статистики
- Загрузка последних анкет
- Отображение последних анкет

## Принципы взаимодействия

1. **Dashboard** является главным координатором
2. **Специализированные модули** содержат логику для своих областей
3. **Dashboard** делегирует вызовы специализированным модулям
4. **Модули** могут вызывать общие функции Dashboard (showMessage, closeModal)
5. **Проверка существования модулей** перед вызовом их функций

## Порядок загрузки файлов

1. neo-umfrage-dashboard.js (основной координатор)
2. neo-umfrage-modals.js
3. neo-umfrage-surveys.js
4. neo-umfrage-templates.js
5. neo-umfrage-statistics.js

## Преимущества такой структуры

- **Разделение ответственности** - каждый модуль отвечает за свою область
- **Легкость поддержки** - изменения в одном модуле не влияют на другие
- **Переиспользование** - модули можно использовать независимо
- **Масштабируемость** - легко добавлять новые модули
- **Тестируемость** - каждый модуль можно тестировать отдельно
